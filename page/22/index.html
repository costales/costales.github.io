<!doctype html><html lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="public"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=generator content="Hugo 0.62.0"><title>Marcos Costales</title><meta name=twitter:card content="summary"><meta name=twitter:title content="Marcos Costales"><meta name=twitter:description content><meta property="og:title" content="Marcos Costales"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://costales.github.io/"><meta property="og:updated_time" content="2020-07-29T17:39:12+02:00"><link rel=stylesheet href=/scss/hyde-hyde.7520f35efecc324a99b3726ed2b2ad961648af81ff945c3bf2c67f371b5262ab.css integrity="sha256-dSDzXv7MMkqZs3Ju0rKtlhZIr4H/lFw78sZ/NxtSYqs="><link rel=stylesheet href=/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58+TzH3icCkSHGoJ+ed7w=" media=print><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><link rel=alternate type=application/rss+xml href=https://costales.github.io/index.xml title="Marcos Costales"></head><body><div class=sidebar><div class=container><div class=sidebar-about><span class=site__title><a href=https://costales.github.io/>Marcos Costales</a></span><div class=author-image><img src=https://costales.github.io/img/avatar.jpeg alt="Author Image" class="img--circle img--headshot element--center"></div><p class=site__description></p></div><div class=collapsible-menu><input type=checkbox id=menuToggle>
<label for=menuToggle>Marcos Costales</label><div class=menu-content><div><ul class=sidebar-nav><li><a href=/><span>Blog</span></a></li><li><a href=/projects/all/><span>Projects</span></a></li><li><a href=/about/><span>About Me</span></a></li></ul></div><section class=social><a href=https://twitter.com/costalesdev rel=me><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a><a href=https://github.com/costales rel=me><i class="fab fa-github fa-lg" aria-hidden=true></i></a><a href=https://www.youtube.com/user/costalesmarcos/videos rel=me><i class="fab fa-youtube fa-lg" aria-hidden=true></i></a><a href=https://linkedin.com/in/costales rel=me><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a><a href=https://stackoverflow.com/users/1609813/costales rel=me><i class="fab fa-stack-overflow fa-lg" aria-hidden=true></i></a><a href=/index.xml rel=me><i class="fas fa-rss fa-lg" aria-hidden=true></i></a><a href=/posts/ rel=me><i class="fab fa-blogger" aria-hidden=true></i></a><a href=https://t.me/costales rel=me><i class="fab fa-telegram fa-lg" aria-hidden=true></i></a><a href=mailto:marcos.costales@gmail.com rel=me><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></section></div></div></div></div><div class="content container"><div class=post-list><div class=post-list__item><span class=item__title--big><a href=/posts/instalar-unrar-nonfree-configurando/>Instalar unrar-nonfree - Configurando Raspberry 14</a></span>
<span class=item__date>Nov 5, 2013</span>
<span>En /etc/apt/sources.list añadimos los fuentes:
deb https://mirrordirector.raspbian.org/raspbian/ wheezy main contrib non-free rpi deb-src https://mirrordirector.raspbian.org/raspbian/ wheezy main contrib non-free rpi
Ejecutamos:
sudo apt-get update `sudo apt-get build-dep unrar-nonfree sudo apt-get source -b unrar-nonfree`
Fuente.</span></div><div class=post-list__item><span class=item__title--big><a href=/posts/autobackups-configurando-raspberry-13/>Autobackups - Configurando Raspberry 13</a></span>
<span class=item__date>Nov 5, 2013</span>
<span>Creamos un directorio backup en el que copiaremos de nuestro home a nuestro disco duro externo:
mkdir /media/path/backup
y en nuestro home creamos este fichero:
mkdir ~/scripts cd ~/scripts vi run_backup.sh
``&mdash;&mdash;&mdash;&mdash;-
#!/bin/bash
fecha has a formated date fecha=date +"%d-%m-%Y"
Backup and gzip the directory tar zcvf /media/path/backup/copia-$fecha.tgz /home/path_a_copiar
Rotate the logs, delete older than 7 days find``` /media/path/backup/ `` -mtime +15 -exec rm chmod +x run_backup.sh```
Y lo añadimos a la contrab para que se ejecute cada sábado a las 6:25 la madrugada:</span>
... <a class=read-more-symbol href=/posts/autobackups-configurando-raspberry-13/>➦</a></div><div class=post-list__item><span class=item__title--big><a href=/posts/ubuntu-server-sin-red-en-virtualbox/>Ubuntu Server sin red en Virtualbox</a></span>
<span class=item__date>Nov 2, 2013</span>
<span>Borramos este fichero y reiniciamos:
sudo rm -f /etc/udev/rules.d/70-persistent-net.rules Fuente.</span></div><div class=post-list__item><span class=item__title--big><a href=/posts/backup-de-todo-un-sistema-en-usb/>Backup de todo un sistema en USB - Configurando Raspberry 12</a></span>
<span class=item__date>Oct 26, 2013</span>
<span>Si tenemos la Raspberry ya configurada, es muy interesante poder guardar su estado actual. Hay herramientas en Ubuntu como BackInTime o Déjà Dup. Incluso con Win32DiskImager o el comando dd podríamos hacer una copia de la partición en formato .img. Pero a veces tenemos que restaurarlas en una partición exactamente igual de grande. Así que vamos a hacerlo a la brava, copiar a un fichero todo el raíz de Raspbian desde nuestro Ubuntu.</span>
... <a class=read-more-symbol href=/posts/backup-de-todo-un-sistema-en-usb/>➦</a></div><div class=post-list__item><span class=item__title--big><a href=/posts/instalar-pyload-configurando-raspberry/>Instalar pyload - Configurando Raspberry 11</a></span>
<span class=item__date>Oct 23, 2013</span>
<span>Añadimos librerías necesarias:
sudo apt-get install liblept3 python python-crypto python-pycurl python-imaging tesseract-ocr spidermonkey-bin zip unzip python-openssl 
Descargamos la última versión (la &ldquo;cli&rdquo;) para Debian:
https://pyload.org/download
Y la instalamos:
sudo dpkg -i fichero_descargado.deb rm fichero_descargado.deb
Vamos a ejecutar el asistente de instalación:
cd /usr/share/pyload ./pyLoadCore.py
Nos advertirá que falta esta librería. Como no queremos la versión gráfica, sólamente queremos la versión web, no la instalamos:
PyQt4: missing
Arrancamos el demonio:</span>
... <a class=read-more-symbol href=/posts/instalar-pyload-configurando-raspberry/>➦</a></div><div class=post-list__item><span class=item__title--big><a href=/posts/optimar-raspberry-pi-configurando/>Optimar Raspberry PI - Configurando Raspberry 10</a></span>
<span class=item__date>Oct 22, 2013</span>
<span>Desactivamos las shells extra Para ello (para ubuntu seguir estos pasos):
sudo vi /etc/inittab
Comentando de la 2 a la 6:
1:2345:respawn:/sbin/getty --noclear 38400 tty1 #2:23:respawn:/sbin/getty 38400 tty2 #3:23:respawn:/sbin/getty 38400 tty3 #4:23:respawn:/sbin/getty 38400 tty4 #5:23:respawn:/sbin/getty 38400 tty5 #6:23:respawn:/sbin/getty 38400 tty6
Firewall
sudo apt-get install ufw sudo ufw allow ssh sudo ufw allow http
sudo ufw allow 51413
sudo ufw allow 9091
sudo ufw enable
Desactivar acceso root por ssh, establenciendo:</span>
... <a class=read-more-symbol href=/posts/optimar-raspberry-pi-configurando/>➦</a></div><div class=post-list__item><span class=item__title--big><a href=/posts/servidor-impresion-configurando/>Servidor impresión. Configurando Raspberry PI 9</a></span>
<span class=item__date>Oct 22, 2013</span>
<span>Instalamos servidor:
sudo apt-get install cups
Damos permisos para usar cups:
sudo usermod -a -G lpadmin tu_usuario
Abrimos firewall:
sudo ufw allow 631
Añadimos nuestra LAN:
`sudo vi /etc/cups/cupsd.conf
#Listen localhost:631
Listen *:631
Listen /var/run/cups/cups.sock
Restrict access to the server&mldr; Order allow,deny
Allow 192.168.1.*
Restrict access to the admin pages&mldr; Order allow,deny
Allow 192.168.1.*
Restrict access to configuration files&mldr; &lt;location /admin/conf>
AuthType Default
Require user @SYSTEM
Allow 192.168.1.*
Order allow,deny</span>
... <a class=read-more-symbol href=/posts/servidor-impresion-configurando/>➦</a></div><div class=post-list__item><span class=item__title--big><a href=/posts/servidor-ftp-configurando-raspberry-pi-8/>Servidor ftp. Configurando Raspberry PI 8</a></span>
<span class=item__date>Oct 22, 2013</span>
<span>Instalamos el servidor:
sudo apt-get install ftpd pure-ftpd
Creamos usuario especifico para acceder:
`useradd -m -d /tu_path/ftp ftp_user
cd /etc/pure-ftpd/conf
sudo touch ChrootEveryone
sudo vi ChrootEveryone
Escribe ‘yes’ en el ficheroSólo ese usuario tendrá acceso: sudo vi /etc/ftpusersAñadimos: root
tu_usuario
anonymous
ftp
guest`
En /etc/passwd desactivamos su acceso por shell (no funciona con /bin/false):
sudo vi /etc/ssh/sshd_config
Añadiendo al final:
DenyUsers ftp_user
Abrimos cortafuegos:
sudo ufw allow ftp</span></div><div class=post-list__item><span class=item__title--big><a href=/posts/crear-repositorio-git-privado/>Crear repositorio git privado - Configurando Raspberry PI 7</a></span>
<span class=item__date>Oct 21, 2013</span>
<span>Vamos a crear nuestro propio repositorio git:
sudo groupadd developers mkdir -p /tu_path/git/proyecto
cd /tu\_path/git sudo chgrp -R developers .
cd /tu\_path/git/proyecto git init &ndash;bare &ndash;shared=group
sudo ln -s /tu\_path/git/proyecto /home/tu\_home ``` Y ahora para clonar: ``` git clone tu\_usuario\_ssh@tu\_host:/home/tu\_home/git/proyecto ```Y para subir el código, desde la carpeta proyecto: ``` git add . ; git commit -m "w" ; git push origin master ```</span></div><div class=post-list__item><span class=item__title--big><a href=/posts/raspbian-mantener-actualizada/>Raspbian Mantener actualizada automáticamente - Configurando Raspberry PI 6</a></span>
<span class=item__date>Oct 21, 2013</span>
<span>Vamos a provocar que la Raspberry PI se autoactualice:
sudo apt-get install unattended-upgrades Añadimos en el fichero:
`sudo vi /etc/apt/apt.conf.d/10periodic` APT::Periodic::Update-Package-Lists "1"; APT::Periodic::Download-Upgradeable-Packages "1"; APT::Periodic::AutocleanInterval "7"; APT::Periodic::Unattended-Upgrade "1"; ``` Y cambiamos (si aparece) en: ``` `sudo vi` `` `/etc/apt/apt.conf.d/50unattended-upgrades` `` ``` ``` `` `"origin=Debian,archive=stable,label=Debian-Security";` `` ```por esto otro: ``` ``` `` `"origin=Raspbian";` `` ``` ``` ``` Para Ubuntu hay que seguir [estas instrucciones](https://help.ubuntu.com/community/AutomaticSecurityUpdates#Using_the_.22unattended-upgrades.22_package). ```</span></div></div><ul class=pagination><li class=page-item><a href=/ class=page-link aria-label=First><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/21/ class=page-link aria-label=Previous><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a class=page-link href=/>1</a></li><li class=page-item><a class=page-link href=/page/2/>2</a></li><li class=page-item><a class=page-link href=/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/21/>21</a></li><li class="page-item active"><a class=page-link href=/page/22/>22</a></li><li class=page-item><a class=page-link href=/page/23/>23</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class=page-item><a class=page-link href=/page/27/>27</a></li><li class=page-item><a href=/page/23/ class=page-link aria-label=Next><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/27/ class=page-link aria-label=Last><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-156677503-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script defer src=https://use.fontawesome.com/releases/v5.11.2/js/all.js integrity=sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1 crossorigin=anonymous></script></body></html>